datasource db {
  provider = "sqlite"
  url      = env("DATABASE_URL")
}

generator client {
  provider = "prisma-client-js"
}

model Character {
  id            Int         @id @default(autoincrement())
  name          String
  description   String
  weaponId      Int?
  birthPlaceId  Int?
  personality   String
  groupId       Int?
  favoritePlaceId Int?
  relation      Relations[]

  Weapon Weapon?

  favoritePlace Place? @relation(fields: [favoritePlaceId], references: [id])
  birthPlace  City?  @relation(fields: [birthPlaceId], references: [id])
  group Group? @relation(fields: [groupId], references: [id])
}

model Relations {
  id                   Int        @id @default(autoincrement())
  relationshipPersonId Int
  Character            Character? @relation(fields: [characterId], references: [id])
  characterId          Int?
}

model City {
  id          Int    @id @default(autoincrement())
  name        String
  description String

  place     Place[]
  Character Character[]
}

model Place {
  id          Int         @id @default(autoincrement())
  name        String
  description String
  characterId Int?
  cityId      Int?
  character   Character[]

  City City? @relation(fields: [cityId], references: [id])
}

model Group {
  id          Int         @id @default(autoincrement())
  name        String
  behalf      String?
  description String
  Character   Character[]
}

model Weapon {
  id          Int        @id @default(autoincrement())
  name        String
  power       String
  description String
  characterId Int?       @unique
  character   Character? @relation(fields: [characterId], references: [id])
}
